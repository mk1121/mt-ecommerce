(this["webpackJsonpFront-end"]=this["webpackJsonpFront-end"]||[]).push([[0],{155:function(e,t,c){},189:function(e,t,c){"use strict";c.r(t);var a,r,s,n,i,l,o,d,j,u,b,m,p,O,h,x,f,v,g,y,N,E,w,S,_=c(4),C=c(2),R=c(23),F=c.n(R),D=c(10),A=c(16),T=c(8),I=c(12),P=c(25),k=c(1),U=function(){return Object(k.jsx)(C.Fragment,{children:Object(k.jsx)("footer",{className:"py-1",children:Object(k.jsx)("p",{className:"text-center mt-1",children:"Shopping Cart - 2019-2020, All Rights Reserved"})})})},L=c(211),W=function(){return Object(k.jsx)("div",{className:"loader",children:" "})},M=c(94),Q=function(e){var t=e.title;return Object(k.jsx)(M.a,{children:Object(k.jsx)("title",{children:"".concat(t," - MT-commerce")})})},V=function(e){var t=e.reviews;return Object(k.jsxs)("div",{class:"reviews w-75",children:[Object(k.jsx)("h3",{children:"Other's Reviews:"}),Object(k.jsx)("hr",{}),t&&t.map((function(e){return Object(k.jsxs)("div",{class:"review-card my-3",children:[Object(k.jsx)("div",{class:"rating-outer",children:Object(k.jsx)("div",{class:"rating-inner",style:{width:"".concat(e.rating/5*100,"%")}})}),Object(k.jsxs)("p",{class:"review_user",children:["by ",e.name]}),Object(k.jsx)("p",{class:"review_comment",children:e.comment}),Object(k.jsx)("hr",{})]},e._id)}))]})},q=c(14),G=c(9),z=c(18),H=c.n(z),B="ADMIN_PRODUCTS_REQUEST",Y="ADMIN_PRODUCTS_SUCCESS",J="ADMIN_PRODUCTS_FAIL",$="ALL_PRODUCTS_REQUEST",K="ALL_PRODUCTS_SUCCESS",X="ALL_PRODUCTS_FAIL",Z="NEW_PRODUCT_REQUEST",ee="NEW_PRODUCT_SUCCESS",te="NEW_PRODUCT_RESET",ce="NEW_PRODUCT_FAIL",ae="DELETE_PRODUCT_REQUEST",re="DELETE_PRODUCT_SUCCESS",se="DELETE_PRODUCT_RESET",ne="DELETE_PRODUCT_FAIL",ie="UPDATE_PRODUCT_REQUEST",le="UPDATE_PRODUCT_SUCCESS",oe="UPDATE_PRODUCT_RESET",de="UPDATE_PRODUCT_FAIL",je="PRODUCT_DETAILS_REQUEST",ue="PRODUCT_DETAILS_SUCCESS",be="PRODUCT_DETAILS_FAIL",me="NEW_REVIEW_REQUEST",pe="NEW_REVIEW_SUCCESS",Oe="NEW_REVIEW_RESET",he="NEW_REVIEW_FAIL",xe="GET_REVIEWS_REQUEST",fe="GET_REVIEWS_SUCCESS",ve="GET_REVIEWS_FAIL",ge="DELETE_REVIEW_REQUEST",ye="DELETE_REVIEW_SUCCESS",Ne="DELETE_REVIEW_RESET",Ee="DELETE_REVIEW_FAIL",we="CLEAR_ERRORS",Se=function(e){return function(){var t=Object(A.a)(Object(D.a)().mark((function t(c){var a,r;return Object(D.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:je}),t.next=4,H.a.get("/api/v1/product/".concat(e));case 4:a=t.sent,r=a.data,c({type:ue,payload:r.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:be,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},_e=function(){return function(){var e=Object(A.a)(Object(D.a)().mark((function e(t){var c,a;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:B}),e.next=4,H.a.get("/api/v1/admin/products");case 4:c=e.sent,a=c.data,t({type:Y,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:J,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Ce=function(e){return function(){var t=Object(A.a)(Object(D.a)().mark((function t(c){var a,r;return Object(D.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:xe}),t.next=4,H.a.get("/api/v1/reviews?id=".concat(e));case 4:a=t.sent,r=a.data,c({type:fe,payload:r.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:ve,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Re=function(){return function(){var e=Object(A.a)(Object(D.a)().mark((function e(t){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:we});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Fe="ADD_TO_CART",De="REMOVE_ITEM_CART",Ae="CLEAR_ITEM_CART",Te="SAVE_SHIPPING_INFO",Ie=function(e,t){return function(){var c=Object(A.a)(Object(D.a)().mark((function c(a,r){var s,n;return Object(D.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,H.a.get("/api/v1/product/".concat(e));case 2:s=c.sent,n=s.data,a({type:Fe,payload:{product:n.product._id,name:n.product.name,price:n.product.price,image:n.product.images[0].url,stock:n.product.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},Pe=function(e){var t=e.match,c=Object(C.useState)(1),a=Object(T.a)(c,2),r=a[0],s=a[1],n=Object(C.useState)(0),i=Object(T.a)(n,2),l=i[0],o=i[1],d=Object(C.useState)(""),j=Object(T.a)(d,2),u=j[0],b=j[1],m=Object(G.b)(),p=Object(q.d)(),O=Object(G.c)((function(e){return e.productDetails})),h=O.loading,x=O.error,f=O.product,v=Object(G.c)((function(e){return e.auth})).user,g=Object(G.c)((function(e){return e.newReview})),y=g.error,N=g.success;Object(C.useEffect)((function(){m(Se(t.params.id)),x&&(p.error(x),m(Re())),y&&(p.error(y),m(Re())),N&&(p.success("Reivew posted successfully"),m({type:Oe}))}),[m,p,x,y,t.params.id,N]);return Object(k.jsx)(C.Fragment,{children:h?Object(k.jsx)(W,{}):Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:f.name}),Object(k.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object(k.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object(k.jsx)(L.a,{pause:"hover",children:f.images&&f.images.map((function(e){return Object(k.jsx)(L.a.Item,{children:Object(k.jsx)("img",{className:"d-block w-100",src:e.url,alt:f.title})},e.public_id)}))})}),Object(k.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(k.jsx)("h3",{children:f.name}),Object(k.jsxs)("p",{id:"product_id",children:["Product # ",f._id]}),Object(k.jsx)("hr",{}),Object(k.jsx)("div",{className:"rating-outer",children:Object(k.jsx)("div",{className:"rating-inner",style:{width:"".concat(f.ratings/5*100,"%")}})}),Object(k.jsxs)("span",{id:"no_of_reviews",children:["(",f.numOfReviews," Reviews)"]}),Object(k.jsx)("hr",{}),Object(k.jsxs)("p",{id:"product_price",children:["\u09f3",f.price]}),Object(k.jsxs)("div",{className:"stockCounter d-inline",children:[Object(k.jsx)("span",{className:"btn btn-danger minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;s(t)}},children:"-"}),Object(k.jsx)("input",{type:"number",className:"form-control count d-inline",value:r,readOnly:!0}),Object(k.jsx)("span",{className:"btn btn-primary plus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber>=f.stock)){var t=e.valueAsNumber+1;s(t)}},children:"+"})]}),Object(k.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",disabled:0===f.stock,onClick:function(){m(Ie(t.params.id,r)),p.success("Item Added to Cart")},children:"Add to Cart"}),Object(k.jsx)("hr",{}),Object(k.jsxs)("p",{children:["Status:"," ",Object(k.jsx)("span",{id:"stock_status",className:f.stock>0?"greenColor":"redColor",children:f.stock>0?"In Stock":"Out of Stock"})]}),Object(k.jsx)("hr",{}),Object(k.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(k.jsx)("p",{children:f.description}),Object(k.jsx)("hr",{}),Object(k.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",Object(k.jsx)("strong",{children:f.seller})]}),v?Object(k.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",onClick:function(){var e=document.querySelectorAll(".star");function t(t){var c=this;e.forEach((function(e,a){"click"===t.type&&(a<c.starValue?(e.classList.add("orange"),o(c.starValue)):e.classList.remove("orange")),"mouseover"===t.type&&(a<c.starValue?e.classList.add("yellow"):e.classList.remove("yellow")),"mouseout"===t.type&&e.classList.remove("yellow")}))}e.forEach((function(e,c){e.starValue=c+1,["click","mouseover","mouseout"].forEach((function(c){e.addEventListener(c,t)}))}))},children:"Submit Your Review"}):Object(k.jsx)("div",{className:"alert alert-danger mt-5",type:"alert",children:"Login to post your review."}),Object(k.jsx)("div",{className:"row mt-2 mb-5",children:Object(k.jsx)("div",{className:"rating w-50",children:Object(k.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(k.jsx)("div",{className:"modal-dialog",role:"document",children:Object(k.jsxs)("div",{className:"modal-content",children:[Object(k.jsxs)("div",{className:"modal-header",children:[Object(k.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(k.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(k.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(k.jsxs)("div",{className:"modal-body",children:[Object(k.jsxs)("ul",{className:"stars",children:[Object(k.jsx)("li",{className:"star",children:Object(k.jsx)("i",{className:"fa fa-star"})}),Object(k.jsx)("li",{className:"star",children:Object(k.jsx)("i",{className:"fa fa-star"})}),Object(k.jsx)("li",{className:"star",children:Object(k.jsx)("i",{className:"fa fa-star"})}),Object(k.jsx)("li",{className:"star",children:Object(k.jsx)("i",{className:"fa fa-star"})}),Object(k.jsx)("li",{className:"star",children:Object(k.jsx)("i",{className:"fa fa-star"})})]}),Object(k.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3",value:u,onChange:function(e){return b(e.target.value)}}),Object(k.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white",onClick:function(){var e,c=new FormData;c.set("rating",l),c.set("comment",u),c.set("productId",t.params.id),m((e=c,function(){var t=Object(A.a)(Object(D.a)().mark((function t(c){var a,r,s;return Object(D.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:me}),a={headers:{"Content-Type":"application/json"}},t.next=5,H.a.put("/api/v1/review",e,a);case 5:r=t.sent,s=r.data,c({type:pe,payload:s.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:he,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))},"data-dismiss":"modal","aria-label":"Close",children:"Submit"})]})]})})})})})]})]}),f.reviews&&f.reviews.length>0&&Object(k.jsx)(V,{reviews:f.reviews})]})})},ke=c(101),Ue=c.n(ke),Le=c(69),We=(c(150),function(e){var t=e.product,c=e.col;return Object(k.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-".concat(c," my-3"),children:Object(k.jsxs)("div",{className:"card p-3 rounded",children:[Object(k.jsx)("img",{className:"card-img-top",src:t.images[0].url}),Object(k.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(k.jsx)("h5",{className:"card-title",children:Object(k.jsx)(I.b,{to:"/product/".concat(t._id),children:t.name})}),Object(k.jsxs)("div",{className:"ratings mt-auto",children:[Object(k.jsx)("div",{className:"rating-outer",children:Object(k.jsx)("div",{className:"rating-inner",style:{width:"".concat(t.ratings/5*100,"%")}})}),Object(k.jsxs)("span",{id:"no_of_reviews",children:["(",t.numOfReviews," Reviews)"]})]}),Object(k.jsxs)("p",{className:"card-text",children:["\u09f3",t.price]}),Object(k.jsx)(I.b,{to:"/product/".concat(t._id),id:"view_btn",className:"btn btn-block",children:"View Details"})]})]})})}),Me=[{id:1,img:"https://res.cloudinary.com/dzrf760el/image/upload/v1650226954/Carousel/yyyyy_1_afuzmj.webp",title:"LAPTOP SALE",desc:"NEW LAPTOPS 19% OFF FOR LIMITED TIME!",bg:"FFFFFF"},{id:2,img:"https://res.cloudinary.com/dzrf760el/image/upload/v1650226953/Carousel/1647238315448_kyadts.png",title:"MOBILE COLLECTION",desc:"NEW SMARTPHONES 19% OFF FOR LIMITED TIME! DON'T MISS THIS.",bg:"FFFFFF"},{id:3,img:"https://res.cloudinary.com/dzrf760el/image/upload/v1650226947/Carousel/6479739_rd_yyf38p.jpg",title:"DESKTOP OFFERS",desc:"STYLE AND PERFORMANCE GO TOGETHER. 25% OFF!",bg:"FFFFFF"}],Qe=["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"],Ve=c(21),qe=c(22),Ge=function(e){return Object(qe.a)(a||(a=Object(Ve.a)(["\n    @media only screen and (max-width: 480px) {\n      ","\n    }\n  "])),e)},ze=qe.b.div(r||(r=Object(Ve.a)(["\n  width: 100vw;\n  max-height: 100vh;\n  display: flex;\n  position: relative;\n  overflow: hidden;\n  ","\n"])),Ge({display:"none"})),He=qe.b.div(s||(s=Object(Ve.a)(["\n  width: 50px;\n  height: 50px;\n  color: white;\n  background-color: #fa9c23;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: ",";\n  right: ",";\n  margin: auto;\n  cursor: pointer;\n  opacity: 0.5;\n  z-index: 2;\n"])),(function(e){return"left"===e.direction&&"10px"}),(function(e){return"right"===e.direction&&"10px"})),Be=qe.b.div(n||(n=Object(Ve.a)(["\n  height: 100%;\n  display: flex;\n  transition: all 1.5s ease;\n  transform: translateX(","vw);\n"])),(function(e){return-100*e.slideIndex})),Ye=qe.b.div(i||(i=Object(Ve.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  background-color: #",";\n"])),(function(e){return e.bg})),Je=qe.b.div(l||(l=Object(Ve.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n"]))),$e=qe.b.img(o||(o=Object(Ve.a)(["\n  height: 80%;\n"]))),Ke=qe.b.div(d||(d=Object(Ve.a)(["\n  flex: 1;\n  padding: 50px;\n"]))),Xe=qe.b.h1(j||(j=Object(Ve.a)(["\n  font-size: 70px;\n"]))),Ze=qe.b.p(u||(u=Object(Ve.a)(["\n  margin: 50px 0px;\n  font-size: 20px;\n  font-weight: 500;\n  letter-spacing: 3px;\n"]))),et=qe.b.button(b||(b=Object(Ve.a)(["\n  padding: 0.4rem 1.8rem;\n  font-size: 20px;\n  font-family: calibri;\n  border: none;\n  border-radius: 7px;\n  color: white;\n  background-color: #fa9c23;\n  cursor: pointer;\n"]))),tt=function(){var e=Object(C.useState)(0),t=Object(T.a)(e,2),c=t[0],a=t[1],r=function(e){a("left"===e?c>0?c-1:2:c<2?c+1:0)};return Object(k.jsxs)(ze,{children:[Object(k.jsx)(He,{direction:"left",onClick:function(){return r("left")},children:"<"}),Object(k.jsx)(Be,{slideIndex:c,children:Me.map((function(e){return Object(k.jsxs)(Ye,{bg:e.bg,children:[Object(k.jsx)(Je,{children:Object(k.jsx)($e,{src:e.img})}),Object(k.jsxs)(Ke,{children:[Object(k.jsx)(Xe,{children:e.title}),Object(k.jsx)(Ze,{children:e.desc}),Object(k.jsx)(et,{children:"SHOP NOW"})]})]},e.id)}))}),Object(k.jsx)(He,{direction:"right",onClick:function(){return r("right")},children:">"})]})},ct=c(204),at=c(205),rt=c(206),st=c(207),nt=c(208),it=c(209),lt=c(210),ot=qe.b.div(m||(m=Object(Ve.a)(["\n  margin-top: 30px;\n  display: flex;\n  ","\n"])),Ge({flexDirection:"column"})),dt=qe.b.div(p||(p=Object(Ve.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n"]))),jt=qe.b.h1(O||(O=Object(Ve.a)([""]))),ut=qe.b.p(h||(h=Object(Ve.a)(["\n  margin: 20px 0px;\n"]))),bt=qe.b.div(x||(x=Object(Ve.a)(["\n  display: flex;\n"]))),mt=qe.b.div(f||(f=Object(Ve.a)(["\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  color: white;\n  background-color: #",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 20px;\n"])),(function(e){return e.color})),pt=qe.b.div(v||(v=Object(Ve.a)(["\n  flex: 1;\n  padding: 20px;\n  ","\n"])),Ge({display:"none"})),Ot=qe.b.h3(g||(g=Object(Ve.a)(["\n  margin-bottom: 30px;\n"]))),ht=qe.b.ul(y||(y=Object(Ve.a)(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  display: flex;\n  flex-wrap: wrap;\n"]))),xt=qe.b.li(N||(N=Object(Ve.a)(["\n  width: 50%;\n  margin-bottom: 10px;\n"]))),ft=qe.b.div(E||(E=Object(Ve.a)(["\n  flex: 1;\n  padding: 20px;\n  ","\n\n"])),Ge({backgroundColor:"#fff8f8"})),vt=qe.b.div(w||(w=Object(Ve.a)(["\n  margin-bottom: 20px;\n  display: flex;\n  align-items: center;\n"]))),gt=qe.b.img(S||(S=Object(Ve.a)(["\n    width: 50%;\n"]))),yt=function(){return Object(k.jsxs)(ot,{children:[Object(k.jsxs)(dt,{children:[Object(k.jsx)(jt,{children:"MT-COMMERCE"}),Object(k.jsx)(ut,{children:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don\u2019t look even slightly believable."}),Object(k.jsxs)(bt,{children:[Object(k.jsx)(mt,{color:"3B5999",children:Object(k.jsx)(ct.a,{})}),Object(k.jsx)(mt,{color:"E4405F",children:Object(k.jsx)(at.a,{})}),Object(k.jsx)(mt,{color:"55ACEE",children:Object(k.jsx)(rt.a,{})}),Object(k.jsx)(mt,{color:"E60023",children:Object(k.jsx)(st.a,{})})]})]}),Object(k.jsxs)(pt,{children:[Object(k.jsx)(Ot,{children:"Useful Links"}),Object(k.jsxs)(ht,{children:[Object(k.jsx)(xt,{children:"Home"}),Object(k.jsx)(xt,{children:"Cart"}),Object(k.jsx)(xt,{children:"Man Fashion"}),Object(k.jsx)(xt,{children:"Woman Fashion"}),Object(k.jsx)(xt,{children:"Accessories"}),Object(k.jsx)(xt,{children:"My Account"}),Object(k.jsx)(xt,{children:"Order Tracking"}),Object(k.jsx)(xt,{children:"Wishlist"}),Object(k.jsx)(xt,{children:"Wishlist"}),Object(k.jsx)(xt,{children:"Terms"})]})]}),Object(k.jsxs)(ft,{children:[Object(k.jsx)(Ot,{children:"Contact"}),Object(k.jsxs)(vt,{children:[Object(k.jsx)(nt.a,{style:{marginRight:"10px"}})," CDA R/A , Agrabad, CTG"]}),Object(k.jsxs)(vt,{children:[Object(k.jsx)(it.a,{style:{marginRight:"10px"}})," +880 1711122233"]}),Object(k.jsxs)(vt,{children:[Object(k.jsx)(lt.a,{style:{marginRight:"10px"}})," ahmdtoukir@gmail.com"]}),Object(k.jsx)(gt,{src:"https://i.ibb.co/Qfvn4z6/payment.png"})]})]})},Nt=(0,Le.a.createSliderWithTooltip)(Le.a.Range),Et=function(e){var t=e.match,c=Object(C.useState)(1),a=Object(T.a)(c,2),r=a[0],s=a[1],n=Object(C.useState)([1,1e3]),i=Object(T.a)(n,2),l=i[0],o=i[1],d=Object(C.useState)(""),j=Object(T.a)(d,2),u=j[0],b=j[1],m=Object(C.useState)(0),p=Object(T.a)(m,2),O=p[0],h=p[1],x=Object(q.d)(),f=Object(G.b)(),v=Object(G.c)((function(e){return e.products})),g=v.loading,y=v.products,N=v.error,E=v.productsCount,w=v.resPerPage,S=v.filteredProductsCount,_=t.params.keyword;Object(C.useEffect)((function(){if(N)return x.error(N);f(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var s=Object(A.a)(Object(D.a)().mark((function s(n){var i,l,o;return Object(D.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n({type:$}),i="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&ratings[gte]=").concat(r),a&&(i="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&category=").concat(a,"&ratings[gte]=").concat(r)),s.next=6,H.a.get(i);case 6:l=s.sent,o=l.data,n({type:K,payload:o}),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),n({type:X,payload:s.t0.response.data.message});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})));return function(e){return s.apply(this,arguments)}}()}(_,r,l,u,O))}),[f,x,N,_,r,l,u,O]);var R=E;return _&&(R=S),Object(k.jsxs)(C.Fragment,{children:[g?Object(k.jsx)(W,{}):Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Buy Best Products Online"}),Object(k.jsx)("section",{id:"products",children:Object(k.jsx)("div",{className:"row",children:_?Object(k.jsx)(C.Fragment,{children:Object(k.jsx)("div",{className:"container mt-5",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-6 col-md-3 mt-5 mb-5",children:Object(k.jsxs)("div",{className:"px-5",children:[Object(k.jsx)(Nt,{marks:{1:"$1",1e3:"$1000"},min:1,max:1e3,defaultValue:[1,1e3],tipFormatter:function(e){return"$".concat(e)},tipProps:{placement:"top",visible:!0},value:l,onChange:function(e){return o(e)}}),Object(k.jsx)("hr",{className:"my-5"}),Object(k.jsxs)("div",{className:"mt-5",children:[Object(k.jsx)("h4",{className:"mb-3",children:"Categories"}),Object(k.jsx)("ul",{className:"pl-0",children:Qe.map((function(e){return Object(k.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return b(e)},children:e},e)}))})]}),Object(k.jsx)("hr",{className:"my-3"}),Object(k.jsxs)("div",{className:"mt-5",children:[Object(k.jsx)("h4",{className:"mb-3",children:"Ratings"}),Object(k.jsx)("ul",{className:"pl-0",children:[5,4,3,2,1].map((function(e){return Object(k.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return h(e)},children:Object(k.jsx)("div",{className:"rating-outer",children:Object(k.jsx)("div",{className:"rating-inner",style:{width:"".concat(20*e,"%")}})})},e)}))})]})]})}),Object(k.jsx)("div",{className:"col-6 col-md-9",children:Object(k.jsx)("div",{className:"row",children:y.map((function(e){return Object(k.jsx)(We,{product:e,col:4},e._id)}))})})]})})}):Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(tt,{}),Object(k.jsx)("div",{className:"container mt-3",children:Object(k.jsx)("div",{className:"row",children:y.map((function(e){return Object(k.jsx)(We,{product:e,col:3},e._id)}))})})]})})}),w<=R&&Object(k.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(k.jsx)(Ue.a,{activePage:r,itemsCountPerPage:w,totalItemsCount:E,onChange:function(e){s(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"})})]}),Object(k.jsx)("div",{className:"container",children:Object(k.jsx)(yt,{})})]})},wt="LOGIN_REQUEST",St="LOGIN_SUCCESS",_t="LOGIN_FAIL",Ct="REGISTER_USER_REQUEST",Rt="REGISTER_USER_SUCCESS",Ft="REGISTER_USER_FAIL",Dt="LOAD_USER_REQUEST",At="LOAD_USER_SUCCESS",Tt="LOAD_USER_FAIL",It="UPDATE_PROFILE_REQUEST",Pt="UPDATE_PROFILE_SUCCESS",kt="UPDATE_PROFILE_RESET",Ut="UPDATE_PROFILE_FAIL",Lt="UPDATE_PASSWORD_REQUEST",Wt="UPDATE_PASSWORD_SUCCESS",Mt="UPDATE_PASSWORD_RESET",Qt="UPDATE_PASSWORD_FAIL",Vt="FORGOT_PASSWORD_REQUEST",qt="FORGOT_PASSWORD_SUCCESS",Gt="FORGOT_PASSWORD_FAIL",zt="NEW_PASSWORD_REQUEST",Ht="NEW_PASSWORD_SUCCESS",Bt="NEW_PASSWORD_FAIL",Yt="ALL_USERS_REQUEST",Jt="ALL_USERS_SUCCESS",$t="ALL_USERS_FAIL",Kt="USER_DETAILS_REQUEST",Xt="USER_DETAILS_SUCCESS",Zt="USER_DETAILS_FAIL",ec="UPDATE_USER_REQUEST",tc="UPDATE_USER_SUCCESS",cc="UPDATE_USER_RESET",ac="UPDATE_USER_FAIL",rc="DELETE_USER_REQUEST",sc="DELETE_USER_SUCCESS",nc="DELETE_USER_RESET",ic="DELETE_USER_FAIL",lc="LOGOUT_SUCCESS",oc="LOGOUT_FAIL",dc="CLEAR_ERRORS",jc=function(){return function(){var e=Object(A.a)(Object(D.a)().mark((function e(t){var c,a;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Dt}),e.next=4,H.a.get("/api/v1/me");case 4:c=e.sent,a=c.data,t({type:At,payload:a.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Tt,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},uc=function(){return function(){var e=Object(A.a)(Object(D.a)().mark((function e(t){var c,a;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Yt}),e.next=4,H.a.get("/api/v1/admin/users");case 4:c=e.sent,a=c.data,t({type:Jt,payload:a.users}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:$t,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},bc=function(){return function(){var e=Object(A.a)(Object(D.a)().mark((function e(t){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:dc});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},mc=function(e){var t=e.history,c=Object(C.useState)(""),a=Object(T.a)(c,2),r=a[0],s=a[1];return Object(k.jsx)("form",{onSubmit:function(e){e.preventDefault(),r.trim()?t.push("/search/".concat(r)):t.push("/")},children:Object(k.jsxs)("div",{className:"input-group",children:[Object(k.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",onChange:function(e){return s(e.target.value)}}),Object(k.jsx)("div",{className:"input-group-append",children:Object(k.jsx)("button",{id:"search_btn",className:"btn",children:Object(k.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})},pc=(c(155),function(){var e=Object(q.d)(),t=Object(G.b)(),c=Object(G.c)((function(e){return e.auth})),a=c.user,r=c.loading,s=Object(G.c)((function(e){return e.cart})).cartItems;return Object(k.jsx)(C.Fragment,{children:Object(k.jsxs)("nav",{className:"navbar row",children:[Object(k.jsx)("div",{className:"col-12 col-md-3",children:Object(k.jsx)("div",{className:"navbar-brand",children:Object(k.jsx)(I.b,{to:"/",children:Object(k.jsx)("img",{src:"/images/mt_commerce_logo.png",alt:"mt-commerce"})})})}),Object(k.jsx)("div",{className:"col-12 col-md-6 mt-2 mt-md-0",children:Object(k.jsx)(P.b,{render:function(e){var t=e.history;return Object(k.jsx)(mc,{history:t})}})}),Object(k.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center",children:[Object(k.jsxs)(I.b,{to:"/cart",style:{textDecoration:"none"},children:[Object(k.jsx)("span",{id:"cart",className:"ml-3",children:"Cart"}),Object(k.jsx)("span",{className:"ml-1",id:"cart_count",children:s.length})]}),a?Object(k.jsxs)("div",{className:"ml-4 dropdown d-inline",children:[Object(k.jsx)(I.b,{to:"#!",className:"btn dropdown-toggle text-white mr-4",type:"button",id:"dropDownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(k.jsx)("figure",{className:"avatar avatar-nav",children:Object(k.jsx)("img",{src:a.avatar&&a.avatar.url,alt:a&&a.name,className:"rounded-circle"})})}),Object(k.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton",children:[a&&"admin"===a.role&&Object(k.jsx)(I.b,{className:"dropdown-item",to:"/dashboard",children:"Dashboard"}),Object(k.jsx)(I.b,{className:"dropdown-item",to:"/orders/me",children:"Orders"}),Object(k.jsx)(I.b,{className:"dropdown-item",to:"/me",children:"Profile"}),Object(k.jsx)(I.b,{className:"dropdown-item text-danger",to:"/",onClick:function(){t(function(){var e=Object(A.a)(Object(D.a)().mark((function e(t){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.get("/api/v1/logout");case 3:t({type:lc}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:oc,payload:e.t0.response.data.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),e.success("Logged out successfully.")},children:"Logout"})]})]}):!r&&Object(k.jsx)(I.b,{to:"/login",className:"btn ml-4",id:"login_btn",children:"Login"})]})]})})}),Oc=c(108),hc=function(e){var t=e.shipping,c=e.confirmOrder,a=e.payment;return Object(k.jsxs)("div",{className:"checkout-progress d-flex justify-content-center mt-5",children:[t?Object(k.jsxs)(I.b,{to:"shippping",className:"float-right",children:[Object(k.jsx)("div",{className:"triangle2-active"}),Object(k.jsx)("div",{className:"step active-step",children:"Shipping"}),Object(k.jsx)("div",{className:"triangle-active"})]}):Object(k.jsxs)(I.b,{to:"#!",disabled:!0,children:[Object(k.jsx)("div",{className:"triangle2-incomplete"}),Object(k.jsx)("div",{className:"step incomplete",children:"Shipping"}),Object(k.jsx)("div",{className:"triangle-incomplete"})]}),c?Object(k.jsxs)(I.b,{to:"/order/confirm",className:"float-right",children:[Object(k.jsx)("div",{className:"triangle2-active"}),Object(k.jsx)("div",{className:"step active-step",children:"Confirm Order"}),Object(k.jsx)("div",{className:"triangle-active"})]}):Object(k.jsxs)(I.b,{to:"#!",disabled:!0,children:[Object(k.jsx)("div",{className:"triangle2-incomplete"}),Object(k.jsx)("div",{className:"step incomplete",children:"Confirm Order"}),Object(k.jsx)("div",{className:"triangle-incomplete"})]}),a?Object(k.jsxs)(I.b,{to:"/payment",className:"float-right",children:[Object(k.jsx)("div",{className:"triangle2-active"}),Object(k.jsx)("div",{className:"step active-step",children:"Payment"}),Object(k.jsx)("div",{className:"triangle-active"})]}):Object(k.jsxs)(I.b,{to:"#!",disabled:!0,children:[Object(k.jsx)("div",{className:"triangle2-incomplete"}),Object(k.jsx)("div",{className:"step incomplete",children:"Payment"}),Object(k.jsx)("div",{className:"triangle-incomplete"})]})]})},xc=function(e){var t=e.history,c=Object.values(Oc.countries),a=Object(G.c)((function(e){return e.cart})).shippingInfo,r=Object(C.useState)(a.address),s=Object(T.a)(r,2),n=s[0],i=s[1],l=Object(C.useState)(a.city),o=Object(T.a)(l,2),d=o[0],j=o[1],u=Object(C.useState)(a.postalCode),b=Object(T.a)(u,2),m=b[0],p=b[1],O=Object(C.useState)(a.phoneNo),h=Object(T.a)(O,2),x=h[0],f=h[1],v=Object(C.useState)(a.country),g=Object(T.a)(v,2),y=g[0],N=g[1],E=Object(G.b)();return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Shipping Info"}),Object(k.jsx)(hc,{shipping:!0}),Object(k.jsx)("div",{className:"row wrapper",children:Object(k.jsx)("div",{className:"col-10 col-lg-5",children:Object(k.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var c;e.preventDefault(),E((c={address:n,city:d,phoneNo:x,postalCode:m,country:y},function(){var e=Object(A.a)(Object(D.a)().mark((function e(t){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Te,payload:c}),localStorage.setItem("shippingInfo",JSON.stringify(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/confirm")},children:[Object(k.jsx)("h1",{className:"mb-4",children:"Shipping Info"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"address_field",children:"Address"}),Object(k.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:n,onChange:function(e){return i(e.target.value)},required:!0})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"city_field",children:"City"}),Object(k.jsx)("input",{type:"text",id:"city_field",className:"form-control",value:d,onChange:function(e){return j(e.target.value)},required:!0})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"phone_field",children:"Phone No"}),Object(k.jsx)("input",{type:"phone",id:"phone_field",className:"form-control",value:x,onChange:function(e){return f(e.target.value)},required:!0})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"postal_code_field",children:"Postal Code"}),Object(k.jsx)("input",{type:"number",id:"postal_code_field",className:"form-control",value:m,onChange:function(e){return p(e.target.value)},required:!0})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"country_field",children:"Country"}),Object(k.jsx)("select",{id:"country_field",className:"form-control",value:y,onChange:function(e){return N(e.target.value)},required:!0,children:c.map((function(e){return Object(k.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(k.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:"CONTINUE"})]})})})]})},fc=function(e){var t=e.history,c=Object(G.b)(),a=Object(G.c)((function(e){return e.cart})).cartItems,r=function(e){c(function(e){return function(){var t=Object(A.a)(Object(D.a)().mark((function t(c,a){return Object(D.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:De,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()}(e))};return Object(k.jsx)(C.Fragment,{children:Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)(Q,{title:"Your Cart"}),0===a.length?Object(k.jsx)("h2",{className:"mt-5",children:"Your Cart is Empty"}):Object(k.jsxs)(C.Fragment,{children:[Object(k.jsxs)("h2",{className:"mt-5",children:["Your Cart: ",Object(k.jsxs)("b",{children:[a.length," items"]})]}),Object(k.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(k.jsx)("div",{className:"col-12 col-lg-8",children:a.map((function(e){return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)("hr",{}),Object(k.jsx)("div",{className:"cart-item",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-4 col-lg-3",children:Object(k.jsx)("img",{src:e.image,alt:"Laptop",height:"90",width:"115"})}),Object(k.jsx)("div",{className:"col-5 col-lg-3",children:Object(k.jsx)(I.b,{to:"/products/".concat(e.product),children:e.name})}),Object(k.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(k.jsxs)("p",{id:"card_item_price",children:["\u09f3",e.price]})}),Object(k.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(k.jsxs)("div",{className:"stockCounter d-inline",children:[Object(k.jsx)("span",{className:"btn btn-danger minus",onClick:function(){return function(e,t){var a=t-1;a<=0||c(Ie(e,a))}(e.product,e.quantity)},children:"-"}),Object(k.jsx)("input",{type:"number",className:"form-control count d-inline",value:e.quantity,readOnly:!0}),Object(k.jsx)("span",{className:"btn btn-primary plus",onClick:function(){return function(e,t,a){var r=t+1;r>a||c(Ie(e,r))}(e.product,e.quantity,e.stock)},children:"+"})]})}),Object(k.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(k.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(){return r(e.product)}})})]})},e.product),Object(k.jsx)("hr",{})]})}))}),Object(k.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(k.jsxs)("div",{id:"order_summary",children:[Object(k.jsx)("h4",{children:"Order Summary"}),Object(k.jsx)("hr",{}),Object(k.jsxs)("p",{children:["Subtotal:"," ",Object(k.jsxs)("span",{className:"order-summary-values",children:[a.reduce((function(e,t){return e+Number(t.quantity)}),0)," ","(Units)"]})]}),Object(k.jsxs)("p",{children:["Est. total:"," ",Object(k.jsxs)("span",{className:"order-summary-values",children:["\u09f3",a.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2)]})]}),Object(k.jsx)("hr",{}),Object(k.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){t.push("/login?redirect=shipping")},children:"Check out"})]})})]})]})]})})},vc=function(){return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Order Success"}),Object(k.jsx)("div",{className:"row justify-content-center",children:Object(k.jsxs)("div",{className:"col-6 mt-5 text-center",children:[Object(k.jsx)("img",{className:"my-5 img-fluid d-block mx-auto",src:"/images/order_success.png",alt:"Order Success",width:"200",height:"200"}),Object(k.jsx)("h2",{children:"Your Order has been placed successfully."}),Object(k.jsx)(I.b,{to:"/orders/me",children:"Go to Orders"})]})})]})},gc="CREATE_ORDER_REQUEST",yc="CREATE_ORDER_SUCCESS",Nc="CREATE_ORDER_FAIL",Ec="MY_ORDERS_REQUEST",wc="MY_ORDERS_SUCCESS",Sc="MY_ORDERS_FAIL",_c="ALL_ORDERS_REQUEST",Cc="ALL_ORDERS_SUCCESS",Rc="ALL_ORDERS_FAIL",Fc="UPDATE_ORDER_REQUEST",Dc="UPDATE_ORDER_SUCCESS",Ac="UPDATE_ORDER_RESET",Tc="UPDATE_ORDER_FAIL",Ic="DELETE_ORDER_REQUEST",Pc="DELETE_ORDER_SUCCESS",kc="DELETE_ORDER_RESET",Uc="DELETE_ORDER_FAIL",Lc="ORDER_DETAILS_REQUEST",Wc="ORDER_DETAILS_SUCCESS",Mc="ORDER_DETAILS_FAIL",Qc="CLEAR_ERRORS",Vc=function(e){return function(){var t=Object(A.a)(Object(D.a)().mark((function t(c,a){var r,s,n;return Object(D.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:gc}),r={headers:{"Content-Type":"application/json"}},t.next=5,H.a.post("/api/v1/order/new",e,r);case 5:s=t.sent,n=s.data,c({type:yc,payload:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:Nc,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,c){return t.apply(this,arguments)}}()},qc=function(e){return function(){var t=Object(A.a)(Object(D.a)().mark((function t(c){var a,r;return Object(D.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Lc}),t.next=4,H.a.get("/api/v1/order/".concat(e));case 4:a=t.sent,r=a.data,c({type:Wc,payload:r.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Mc,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Gc=function(){return function(){var e=Object(A.a)(Object(D.a)().mark((function e(t){var c,a;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:_c}),e.next=4,H.a.get("/api/v1/admin/orders");case 4:c=e.sent,a=c.data,t({type:Cc,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Rc,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},zc=function(){return function(){var e=Object(A.a)(Object(D.a)().mark((function e(t){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Qc});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Hc=c(34),Bc={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}},Yc=function(e){var t=e.history,c=Object(q.d)(),a=Object(Hc.useStripe)(),r=Object(Hc.useElements)(),s=Object(G.b)(),n=Object(G.c)((function(e){return e.auth})).user,i=Object(G.c)((function(e){return e.cart})),l=i.cartItems,o=i.shippingInfo,d=Object(G.c)((function(e){return e.newOrder})).error;Object(C.useEffect)((function(){d&&(c.error(d),s(zc()))}),[s,c,d]);var j={orderItems:l,shippingInfo:o},u=JSON.parse(sessionStorage.getItem("orderInfo"));u&&(j.itemsPrice=u.itemsPrice,j.shippingPrice=u.shippingPrice,j.taxPrice=u.taxPrice,j.totalPrice=u.totalPrice);var b={amount:Math.round(100*u.totalPrice)},m=function(){var e=Object(A.a)(Object(D.a)().mark((function e(i){var l,o,d,u;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.preventDefault(),document.querySelector("#pay_btn").disabled=!0,e.prev=2,o={headers:{"Content-Type":"application/json"}},e.next=6,H.a.post("/api/v1/payment/process",b,o);case 6:if(l=e.sent,d=l.data.client_secret,console.log(d),a&&r){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,a.confirmCardPayment(d,{payment_method:{card:r.getElement(Hc.CardNumberElement),billing_details:{name:n.name,email:n.email}}});case 13:(u=e.sent).error?(c.error(u.error.message),document.querySelector("#pay_btn").disabled=!1):"succeeded"===u.paymentIntent.status?(j.paymentInfo={id:u.paymentIntent.id,status:u.paymentIntent.status},s(Vc(j)),s(function(){var e=Object(A.a)(Object(D.a)().mark((function e(t,c){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Ae}),localStorage.removeItem("cartItems");case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),t.push("/success")):c.error("There is some issue while payment processing"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),document.querySelector("#pay_btn").disabled=!1,c.error(e.t0.response.data.message);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Payment"}),Object(k.jsx)(hc,{shipping:!0,confirmOrder:!0,payment:!0}),Object(k.jsx)("div",{className:"row wrapper",children:Object(k.jsx)("div",{className:"col-10 col-lg-5",children:Object(k.jsxs)("form",{className:"shadow-lg",onSubmit:m,children:[Object(k.jsx)("h1",{className:"mb-4",children:"Card Info"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"card_num_field",children:"Card Number"}),Object(k.jsx)(Hc.CardNumberElement,{type:"text",id:"card_num_field",className:"form-control",options:Bc})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"card_exp_field",children:"Card Expiry"}),Object(k.jsx)(Hc.CardExpiryElement,{type:"text",id:"card_exp_field",className:"form-control",options:Bc})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"card_cvc_field",children:"Card CVC"}),Object(k.jsx)(Hc.CardCvcElement,{type:"text",id:"card_cvc_field",className:"form-control",options:Bc})]}),Object(k.jsxs)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",children:["Pay "," - ".concat(u&&u.totalPrice)]})]})})})]})},Jc=function(e){var t=e.history,c=Object(G.c)((function(e){return e.cart})),a=c.cartItems,r=c.shippingInfo,s=Object(G.c)((function(e){return e.auth})).user,n=a.reduce((function(e,t){return e+t.price*t.quantity}),0),i=n>200?0:25,l=Number((.05*n).toFixed(2)),o=(n+i+l).toFixed(2);return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Confirm Order"}),Object(k.jsx)(hc,{shipping:!0,confirmOrder:!0}),Object(k.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(k.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-confirm",children:[Object(k.jsx)("h4",{className:"mb-3",children:"Shipping Info"}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Name:"})," ",s&&s.name]}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Phone:"})," ",r.phoneNo]}),Object(k.jsxs)("p",{className:"mb-4",children:[Object(k.jsx)("b",{children:"Address:"})," ","".concat(r.address,", ").concat(r.city,", ").concat(r.postalCode,", ").concat(r.country)]}),Object(k.jsx)("hr",{}),Object(k.jsx)("h4",{className:"mt-4",children:"Your Cart Items:"}),a.map((function(e){return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)("hr",{}),Object(k.jsx)("div",{className:"cart-item my-1",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-4 col-lg-2",children:Object(k.jsx)("img",{src:e.image,alt:"Laptop",height:"45",width:"65"})}),Object(k.jsx)("div",{className:"col-5 col-lg-6",children:Object(k.jsx)(I.b,{to:"/product/".concat(e.product),children:e.name})}),Object(k.jsx)("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0",children:Object(k.jsxs)("p",{children:[e.quantity," x \u09f3",e.price," ="," ",Object(k.jsxs)("b",{children:["\u09f3",(e.quantity*e.price).toFixed(2)]})]})})]})},e.product),Object(k.jsx)("hr",{})]})}))]}),Object(k.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(k.jsxs)("div",{id:"order_summary",children:[Object(k.jsx)("h4",{children:"Order Summary"}),Object(k.jsx)("hr",{}),Object(k.jsxs)("p",{children:["Subtotal:"," ",Object(k.jsxs)("span",{className:"order-summary-values",children:["\u09f3",n]})]}),Object(k.jsxs)("p",{children:["Shipping:"," ",Object(k.jsxs)("span",{className:"order-summary-values",children:["\u09f3",i]})]}),Object(k.jsxs)("p",{children:["Tax: ",Object(k.jsxs)("span",{className:"order-summary-values",children:["\u09f3",l]})]}),Object(k.jsx)("hr",{}),Object(k.jsxs)("p",{children:["Total: ",Object(k.jsxs)("span",{className:"order-summary-values",children:["\u09f3",o]})]}),Object(k.jsx)("hr",{}),Object(k.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){var e={itemsPrice:n.toFixed(2),shippingPrice:i,taxPrice:l,totalPrice:o};sessionStorage.setItem("orderInfo",JSON.stringify(e)),t.push("/payment")},children:"Proceed to Payment"})]})})]})]})},$c=function(e){var t=e.match,c=Object(q.d)(),a=Object(G.b)(),r=Object(G.c)((function(e){return e.orderDetails})),s=r.loading,n=r.error,i=r.order,l=void 0===i?{}:i,o=l.shippingInfo,d=l.orderItems,j=l.paymentInfo,u=l.user,b=l.totalPrice,m=l.orderStatus;Object(C.useEffect)((function(){a(qc(t.params.id)),n&&(c.error(n),a(zc()))}),[a,c,n,t.params.id]);var p=o&&"".concat(o.address,", ").concat(o.city,", ").concat(o.postalCode,", ").concat(o.country),O=!(!j||"succeeded"!==j.status);return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Order Details"}),s?Object(k.jsx)(W,{}):Object(k.jsx)(C.Fragment,{children:Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("div",{className:"row d-flex justify-content-between",children:Object(k.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-details",children:[Object(k.jsxs)("h1",{className:"my-5",children:["Order # ",l._id]}),Object(k.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Name:"})," ",u&&u.name]}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Phone:"})," ",o&&o.phoneNo]}),Object(k.jsxs)("p",{className:"mb-4",children:[Object(k.jsx)("b",{children:"Address:"}),p]}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Amount:"})," $",b]}),Object(k.jsx)("hr",{}),Object(k.jsx)("h4",{className:"my-4",children:"Payment"}),Object(k.jsx)("p",{className:O?"greenColor":"redColor",children:Object(k.jsx)("b",{children:O?"PAID":"NOT PAID"})}),Object(k.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(k.jsx)("p",{className:l.orderStatus&&String(l.orderStatus).includes("Delivered")?"greenColor":"redColor",children:Object(k.jsx)("b",{children:m})}),Object(k.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(k.jsx)("hr",{}),Object(k.jsx)("div",{className:"cart-item my-1",children:d&&d.map((function(e){return Object(k.jsxs)("div",{className:"row my-5",children:[Object(k.jsx)("div",{className:"col-4 col-lg-2",children:Object(k.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(k.jsx)("div",{className:"col-5 col-lg-5",children:Object(k.jsx)(I.b,{to:"/products/".concat(e.product),children:e.name})}),Object(k.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(k.jsxs)("p",{children:["$",e.price]})}),Object(k.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(k.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)}))}),Object(k.jsx)("hr",{})]})})})})]})},Kc=c(32),Xc=function(){var e=Object(q.d)(),t=Object(G.b)(),c=Object(G.c)((function(e){return e.myOrders})),a=c.loading,r=c.error,s=c.orders;Object(C.useEffect)((function(){t(function(){var e=Object(A.a)(Object(D.a)().mark((function e(t){var c,a;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ec}),e.next=4,H.a.get("/api/v1/orders/me");case 4:c=e.sent,a=c.data,t({type:wc,payload:a.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Sc,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),r&&(e.error(r),t(zc()))}),[t,e,r]);return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"My Orders"}),Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("h1",{className:"my-5",children:"My Orders"}),a?Object(k.jsx)(W,{}):Object(k.jsx)(Kc.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Num of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return s.forEach((function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"\u09f3".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(k.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(k.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(k.jsx)(I.b,{to:"/order/".concat(t._id),className:"btn btn-primary",children:Object(k.jsx)("i",{className:"fa fa-eye"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})]})},Zc=c(7),ea=function(e){var t=e.history,c=Object(C.useState)({name:"",email:"",password:""}),a=Object(T.a)(c,2),r=a[0],s=a[1],n=r.name,i=r.email,l=r.password,o=Object(C.useState)(""),d=Object(T.a)(o,2),j=d[0],u=d[1],b=Object(C.useState)("/images/default_avatar.jpg"),m=Object(T.a)(b,2),p=m[0],O=m[1],h=Object(q.d)(),x=Object(G.b)(),f=Object(G.c)((function(e){return e.auth})),v=f.isAuthenticated,g=f.error,y=f.loading;Object(C.useEffect)((function(){v&&t.push("/"),g&&(h.error(g),x(bc()))}),[x,h,v,g,t]);var N=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(O(t.result),u(t.result))},t.readAsDataURL(e.target.files[0])}else s(Object(_.a)(Object(_.a)({},r),{},Object(Zc.a)({},e.target.name,e.target.value)))};return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Register User"}),Object(k.jsx)("div",{className:"row wrapper",children:Object(k.jsx)("div",{className:"col-10 col-lg-5",children:Object(k.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",n),c.set("email",i),c.set("password",l),c.set("avatar",j),x((t=c,function(){var e=Object(A.a)(Object(D.a)().mark((function e(c){var a,r,s;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Ct}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,H.a.post("/api/v1/register",t,a);case 5:r=e.sent,s=r.data,c({type:Rt,payload:s.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Ft,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(k.jsx)("h1",{className:"mb-3",children:"Register"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(k.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:n,onChange:N})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(k.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:i,onChange:N})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(k.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:l,onChange:N})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(k.jsxs)("div",{className:"d-flex align-items-center",children:[Object(k.jsx)("div",{children:Object(k.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(k.jsx)("img",{src:p,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(k.jsxs)("div",{className:"custom-file",children:[Object(k.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"iamges/*",onChange:N}),Object(k.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(k.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!!y,children:"REGISTER"})]})})})]})},ta=function(){var e=Object(G.c)((function(e){return e.auth})),t=e.user,c=e.loading;return Object(k.jsx)(C.Fragment,{children:c?Object(k.jsx)(W,{}):Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Your Profile"}),Object(k.jsx)("h2",{className:"mt-5 ml-5",children:"My Profile"}),Object(k.jsxs)("div",{className:"row justify-content-around mt-5 user-info",children:[Object(k.jsxs)("div",{className:"col-12 col-md-3",children:[Object(k.jsx)("figure",{className:"avatar avatar-profile",children:Object(k.jsx)("img",{className:"rounded-circle img-fluid",src:t.avatar.url,alt:t.name})}),Object(k.jsx)(I.b,{to:"/me/update",id:"edit_profile",className:"btn btn-primary btn-block my-5",children:"Edit Profile"})]}),Object(k.jsxs)("div",{className:"col-12 col-md-5",children:[Object(k.jsx)("h4",{children:"Full Name"}),Object(k.jsx)("p",{children:t.name}),Object(k.jsx)("h4",{children:"Email Address"}),Object(k.jsx)("p",{children:t.email}),Object(k.jsx)("h4",{children:"Joined On"}),Object(k.jsx)("p",{children:String(t.createdAt).substring(0,10)}),"admin"!==t.role&&Object(k.jsx)(I.b,{to:"/orders/me",className:"btn btn-danger btn-block mt-5",children:"My Orders"}),Object(k.jsx)(I.b,{to:"/password/update",className:"btn btn-primary btn-block mt-3",children:"Change Password"})]})]})]})})},ca=function(e){var t=e.history,c=e.location,a=Object(C.useState)(""),r=Object(T.a)(a,2),s=r[0],n=r[1],i=Object(C.useState)(""),l=Object(T.a)(i,2),o=l[0],d=l[1],j=Object(q.d)(),u=Object(G.b)(),b=Object(G.c)((function(e){return e.auth})),m=b.isAuthenticated,p=b.error,O=b.loading,h=c.search?c.search.split("=")[1]:"/";Object(C.useEffect)((function(){m&&t.push(h),p&&(j.error(p),u(bc()))}),[u,j,m,p,t]);return Object(k.jsx)(C.Fragment,{children:O?Object(k.jsx)(W,{}):Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Login"}),Object(k.jsx)("div",{className:"row wrapper",children:Object(k.jsx)("div",{className:"col-10 col-lg-5",children:Object(k.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),u(function(e,t){return function(){var c=Object(A.a)(Object(D.a)().mark((function c(a){var r,s,n;return Object(D.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:wt}),r={headers:{"Content-Type":"application/json"}},c.next=5,H.a.post("/api/v1/login",{email:e,password:t},r);case 5:s=c.sent,n=s.data,a({type:St,payload:n.user}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a({type:_t,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(s,o))},children:[Object(k.jsx)("h1",{className:"mb-3",children:"Login"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(k.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(k.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(k.jsx)(I.b,{to:"/password/forgot",className:"float-right mb-4",children:"Forgot Password?"}),Object(k.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"LOGIN"}),Object(k.jsx)(I.b,{to:"/register",className:"float-right mt-3",children:"New User?"})]})})})]})})},aa=function(e){var t=e.history,c=Object(C.useState)(""),a=Object(T.a)(c,2),r=a[0],s=a[1],n=Object(C.useState)(""),i=Object(T.a)(n,2),l=i[0],o=i[1],d=Object(q.d)(),j=Object(G.b)(),u=Object(G.c)((function(e){return e.user})),b=u.error,m=u.isUpdated,p=u.loading;Object(C.useEffect)((function(){b&&(d.error(b),j(bc())),m&&(d.success("Password updated successfully"),t.push("/me"),j({type:Mt}))}),[j,d,b,t,m]);return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Change Password"}),Object(k.jsx)("div",{className:"row wrapper",children:Object(k.jsx)("div",{className:"col-10 col-lg-5",children:Object(k.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("oldPassword",r),c.set("password",l),j((t=c,function(){var e=Object(A.a)(Object(D.a)().mark((function e(c){var a,r,s;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Lt}),a={headers:{"Content-Type":"application/json"}},e.next=5,H.a.put("/api/v1/password/update",t,a);case 5:r=e.sent,s=r.data,c({type:Wt,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Qt,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(k.jsx)("h1",{className:"mt-2 mb-5",children:"Update Password"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{for:"old_password_field",children:"Old Password"}),Object(k.jsx)("input",{type:"password",id:"old_password_field",className:"form-control",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{for:"new_password_field",children:"New Password"}),Object(k.jsx)("input",{type:"password",id:"new_password_field",className:"form-control",value:l,onChange:function(e){return o(e.target.value)}})]}),Object(k.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!p,children:"Update Password"})]})})})]})},ra=function(){var e=Object(C.useState)(""),t=Object(T.a)(e,2),c=t[0],a=t[1],r=Object(q.d)(),s=Object(G.b)(),n=Object(G.c)((function(e){return e.forgotPassword})),i=n.error,l=n.loading,o=n.message;Object(C.useEffect)((function(){i&&(r.error(i),s(bc())),o&&r.success(o)}),[s,r,i,o]);return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Forgot Password"}),Object(k.jsx)("div",{className:"row wrapper",children:Object(k.jsx)("div",{className:"col-10 col-lg-5",children:Object(k.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",c),s(function(e){return function(){var t=Object(A.a)(Object(D.a)().mark((function t(c){var a,r,s;return Object(D.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Vt}),a={headers:{"Content-Type":"application/json"}},t.next=5,H.a.post("/api/v1/password/forgot",e,a);case 5:r=t.sent,s=r.data,c({type:qt,payload:s.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:Gt,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(k.jsx)("h1",{className:"mb-3",children:"Forgot Password"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email_field",children:"Enter Email"}),Object(k.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(k.jsx)("button",{id:"forgot_password_button",type:"submit",className:"btn btn-block py-3",disabled:!!l,children:"Send Email"})]})})})]})},sa=function(e){var t=e.history,c=e.match,a=Object(C.useState)(""),r=Object(T.a)(a,2),s=r[0],n=r[1],i=Object(C.useState)(""),l=Object(T.a)(i,2),o=l[0],d=l[1],j=Object(q.d)(),u=Object(G.b)(),b=Object(G.c)((function(e){return e.forgotPassword})),m=b.error,p=b.success;Object(C.useEffect)((function(){m&&(j.error(m),u(bc())),p&&(j.success("Password updated successfully"),t.push("/login"))}),[u,j,m,p,t]);return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"New Password Reset"}),Object(k.jsx)("div",{className:"row wrapper",children:Object(k.jsx)("div",{className:"col-10 col-lg-5",children:Object(k.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a,r=new FormData;r.set("password",s),r.set("confirmPassword",o),u((t=c.params.token,a=r,function(){var e=Object(A.a)(Object(D.a)().mark((function e(c){var r,s,n;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:zt}),r={headers:{"Content-Type":"application/json"}},e.next=5,H.a.put("/api/v1/password/reset/".concat(t),a,r);case 5:s=e.sent,n=s.data,c({type:Ht,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Bt,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(k.jsx)("h1",{className:"mb-3",children:"New Password"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(k.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(k.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(k.jsx)("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3",children:"Set Password"})]})})})]})},na=function(e){var t=e.history,c=Object(C.useState)(""),a=Object(T.a)(c,2),r=a[0],s=a[1],n=Object(C.useState)(""),i=Object(T.a)(n,2),l=i[0],o=i[1],d=Object(C.useState)(""),j=Object(T.a)(d,2),u=j[0],b=j[1],m=Object(C.useState)("/images/default_avatar.jpg"),p=Object(T.a)(m,2),O=p[0],h=p[1],x=Object(q.d)(),f=Object(G.b)(),v=Object(G.c)((function(e){return e.auth})).user,g=Object(G.c)((function(e){return e.user})),y=g.error,N=g.isUpdated,E=g.loading;Object(C.useEffect)((function(){v&&(s(v.name),o(v.email),h(v.avatar.url)),y&&(x.error(y),f(bc())),N&&(x.success("User updated successfully"),f(jc()),t.push("/me"),f({type:kt}))}),[f,x,y,t,N]);return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Update Profile"}),Object(k.jsx)("div",{className:"row wrapper",children:Object(k.jsx)("div",{className:"col-10 col-lg-5",children:Object(k.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",r),c.set("email",l),c.set("avatar",u),f((t=c,function(){var e=Object(A.a)(Object(D.a)().mark((function e(c){var a,r,s;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:It}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,H.a.put("/api/v1/me/update",t,a);case 5:r=e.sent,s=r.data,c({type:Pt,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Ut,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(k.jsx)("h1",{className:"mt-2 mb-5",children:"Update Profile"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(k.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(k.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:l,onChange:function(e){return o(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(k.jsxs)("div",{className:"d-flex align-items-center",children:[Object(k.jsx)("div",{children:Object(k.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(k.jsx)("img",{src:O,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(k.jsxs)("div",{className:"custom-file",children:[Object(k.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(h(t.result),b(t.result))},t.readAsDataURL(e.target.files[0])}}),Object(k.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(k.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!E,children:"Update"})]})})})]})},ia=function(){return Object(k.jsx)("div",{className:"sidebar-wrapper",children:Object(k.jsx)("nav",{id:"sidebar",children:Object(k.jsxs)("ul",{className:"list-unstyled components",children:[Object(k.jsx)("li",{children:Object(k.jsxs)(I.b,{to:"/dashboard",children:[Object(k.jsx)("i",{className:"fa fa-tachometer"})," Dashboard"]})}),Object(k.jsxs)("li",{children:[Object(k.jsxs)("a",{href:"#productSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[Object(k.jsx)("i",{className:"fa fa-product-hunt"})," Products"]}),Object(k.jsxs)("ul",{className:"collapse list-unstyled",id:"productSubmenu",children:[Object(k.jsx)("li",{children:Object(k.jsxs)(I.b,{to:"/admin/products",children:[Object(k.jsx)("i",{className:"fa fa-clipboard"})," All"]})}),Object(k.jsx)("li",{children:Object(k.jsxs)(I.b,{to:"/admin/product",children:[Object(k.jsx)("i",{className:"fa fa-plus"})," Create"]})})]})]}),Object(k.jsx)("li",{children:Object(k.jsxs)(I.b,{to:"/admin/orders",children:[Object(k.jsx)("i",{className:"fa fa-shopping-basket"})," Orders"]})}),Object(k.jsx)("li",{children:Object(k.jsxs)(I.b,{to:"/admin/users",children:[Object(k.jsx)("i",{className:"fa fa-users"})," Users"]})}),Object(k.jsx)("li",{children:Object(k.jsxs)(I.b,{to:"/admin/reviews",children:[Object(k.jsx)("i",{className:"fa fa-star"})," Reviews"]})})]})})})},la=function(e){var t=e.history,c=Object(q.d)(),a=Object(G.b)(),r=Object(G.c)((function(e){return e.products})),s=r.loading,n=r.error,i=r.products,l=Object(G.c)((function(e){return e.product})),o=l.error,d=l.isDeleted;Object(C.useEffect)((function(){a(_e()),n&&(c.error(n),a(Re())),o&&(c.error(o),a(Re())),d&&(c.success("Product deleted successfully"),t.push("/admin/products"),a({type:se}))}),[a,c,n,o,d,t]);var j=function(e){a(function(e){return function(){var t=Object(A.a)(Object(D.a)().mark((function t(c){var a,r;return Object(D.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:ae}),t.next=4,H.a.delete("/api/v1/admin/product/".concat(e));case 4:a=t.sent,r=a.data,c({type:re,payload:r.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:ne,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"All Products"}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-12 col-md-2",children:Object(k.jsx)(ia,{})}),Object(k.jsx)("div",{className:"col-12 col-md-10",children:Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)("h1",{className:"my-5",children:"All Products"}),s?Object(k.jsx)(W,{}):Object(k.jsx)(Kc.c,{data:function(){var e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Price",field:"price",sort:"asc"},{label:"Stock",field:"stock",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return i.forEach((function(t){e.rows.push({id:t._id,name:t.name,price:"\u09f3".concat(t.price),stock:t.stock,actions:Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(I.b,{to:"/admin/product/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object(k.jsx)("i",{className:"fa fa-pencil"})}),Object(k.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return j(t._id)},children:Object(k.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},oa=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.products})).products,c=Object(G.c)((function(e){return e.allUsers})).users,a=Object(G.c)((function(e){return e.allOrders})),r=a.orders,s=a.totalAmount,n=a.loading,i=0;return t.forEach((function(e){0===e.stock&&(i+=1)})),Object(C.useEffect)((function(){e(_e()),e(Gc()),e(uc())}),[e]),Object(k.jsx)(C.Fragment,{children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-12 col-md-2",children:Object(k.jsx)(ia,{})}),Object(k.jsxs)("div",{className:"col-12 col-md-10",children:[Object(k.jsx)("h1",{className:"my-4",children:"Dashboard"}),n?Object(k.jsx)(W,{}):Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Admin Dashboard"}),Object(k.jsx)("div",{className:"row pr-4",children:Object(k.jsx)("div",{className:"col-xl-12 col-sm-12 mb-3",children:Object(k.jsx)("div",{className:"card text-white bg-primary o-hidden h-100",children:Object(k.jsx)("div",{className:"card-body",children:Object(k.jsxs)("div",{className:"text-center card-font-size",children:["Total Amount",Object(k.jsx)("br",{})," ",Object(k.jsxs)("b",{children:["\u09f3",s&&s.toFixed(2)]})]})})})})}),Object(k.jsxs)("div",{className:"row pr-4",children:[Object(k.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(k.jsxs)("div",{className:"card text-white bg-success o-hidden h-100",children:[Object(k.jsx)("div",{className:"card-body",children:Object(k.jsxs)("div",{className:"text-center card-font-size",children:["Products",Object(k.jsx)("br",{})," ",Object(k.jsx)("b",{children:t&&t.length})]})}),Object(k.jsxs)(I.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/products",children:[Object(k.jsx)("span",{className:"float-left",children:"View Details"}),Object(k.jsx)("span",{className:"float-right",children:Object(k.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(k.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(k.jsxs)("div",{className:"card text-white bg-danger o-hidden h-100",children:[Object(k.jsx)("div",{className:"card-body",children:Object(k.jsxs)("div",{className:"text-center card-font-size",children:["Orders",Object(k.jsx)("br",{})," ",Object(k.jsx)("b",{children:r&&r.length})]})}),Object(k.jsxs)(I.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders",children:[Object(k.jsx)("span",{className:"float-left",children:"View Details"}),Object(k.jsx)("span",{className:"float-right",children:Object(k.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(k.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(k.jsxs)("div",{className:"card text-white bg-info o-hidden h-100",children:[Object(k.jsx)("div",{className:"card-body",children:Object(k.jsxs)("div",{className:"text-center card-font-size",children:["Users",Object(k.jsx)("br",{})," ",Object(k.jsx)("b",{children:c&&c.length})]})}),Object(k.jsxs)(I.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/users",children:[Object(k.jsx)("span",{className:"float-left",children:"View Details"}),Object(k.jsx)("span",{className:"float-right",children:Object(k.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(k.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(k.jsx)("div",{className:"card text-white bg-warning o-hidden h-100",children:Object(k.jsx)("div",{className:"card-body",children:Object(k.jsxs)("div",{className:"text-center card-font-size",children:["Out of Stock",Object(k.jsx)("br",{})," ",Object(k.jsx)("b",{children:i})]})})})})]})]})]})]})})},da=c(20),ja=function(e){var t=e.match,c=e.history,a=Object(C.useState)(""),r=Object(T.a)(a,2),s=r[0],n=r[1],i=Object(C.useState)(0),l=Object(T.a)(i,2),o=l[0],d=l[1],j=Object(C.useState)(""),u=Object(T.a)(j,2),b=u[0],m=u[1],p=Object(C.useState)(""),O=Object(T.a)(p,2),h=O[0],x=O[1],f=Object(C.useState)(0),v=Object(T.a)(f,2),g=v[0],y=v[1],N=Object(C.useState)(""),E=Object(T.a)(N,2),w=E[0],S=E[1],_=Object(C.useState)([]),R=Object(T.a)(_,2),F=R[0],I=R[1],P=Object(C.useState)([]),U=Object(T.a)(P,2),L=U[0],W=U[1],M=Object(C.useState)([]),V=Object(T.a)(M,2),z=V[0],B=V[1],Y=Object(q.d)(),J=Object(G.b)(),$=Object(G.c)((function(e){return e.productDetails})),K=$.error,X=$.product,Z=Object(G.c)((function(e){return e.product})),ee=Z.loading,te=Z.error,ce=Z.isUpdated,ae=t.params.id;Object(C.useEffect)((function(){X&&X._id!==ae?J(Se(ae)):(n(X.name),d(X.price),m(X.description),x(X.category),S(X.seller),y(X.stock),W(X.images)),K&&(Y.error(K),J(Re())),te&&(Y.error(te),J(Re())),ce&&(c.push("/admin/products"),Y.success("Product updated successfully"),J({type:oe}))}),[J,Y,K,ce,c,te,X,ae]);return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Update Product"}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-12 col-md-2",children:Object(k.jsx)(ia,{})}),Object(k.jsx)("div",{className:"col-12 col-md-10",children:Object(k.jsx)(C.Fragment,{children:Object(k.jsx)("div",{className:"wrapper my-5",children:Object(k.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c,a=new FormData;a.set("name",s),a.set("price",o),a.set("description",b),a.set("category",h),a.set("stock",g),a.set("seller",w),F.forEach((function(e){a.append("images",e)})),J((t=X._id,c=a,function(){var e=Object(A.a)(Object(D.a)().mark((function e(a){var r,s,n;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:ie}),r={headers:{"Content-Type":"application/json"}},e.next=5,H.a.put("/api/v1/admin/product/".concat(t),c,r);case 5:s=e.sent,n=s.data,a({type:le,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:de,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(k.jsx)("h1",{className:"mb-4",children:"Update Product"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(k.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(k.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(k.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:b,onChange:function(e){return m(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(k.jsx)("select",{className:"form-control",id:"category_field",value:h,onChange:function(e){return x(e.target.value)},children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map((function(e){return Object(k.jsx)("option",{value:e,children:e},e)}))})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(k.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(k.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:w,onChange:function(e){return S(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Images"}),Object(k.jsxs)("div",{className:"custom-file",children:[Object(k.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);B([]),I([]),W([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(B((function(e){return[].concat(Object(da.a)(e),[t.result])})),I((function(e){return[].concat(Object(da.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(k.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),L&&L.map((function(e){return Object(k.jsx)("img",{src:e.url,alt:e.url,className:"mt-3 mr-2",width:"55",height:"52"},e)})),z.map((function(e){return Object(k.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)}))]}),Object(k.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!ee,children:"UPDATE"})]})})})})]})]})},ua=function(e){var t=e.history,c=Object(C.useState)(""),a=Object(T.a)(c,2),r=a[0],s=a[1],n=Object(C.useState)(0),i=Object(T.a)(n,2),l=i[0],o=i[1],d=Object(C.useState)(""),j=Object(T.a)(d,2),u=j[0],b=j[1],m=Object(C.useState)(""),p=Object(T.a)(m,2),O=p[0],h=p[1],x=Object(C.useState)(0),f=Object(T.a)(x,2),v=f[0],g=f[1],y=Object(C.useState)(""),N=Object(T.a)(y,2),E=N[0],w=N[1],S=Object(C.useState)([]),_=Object(T.a)(S,2),R=_[0],F=_[1],I=Object(C.useState)([]),P=Object(T.a)(I,2),U=P[0],L=P[1],W=Object(q.d)(),M=Object(G.b)(),V=Object(G.c)((function(e){return e.newProduct})),z=V.loading,B=V.error,Y=V.success;Object(C.useEffect)((function(){B&&(W.error(B),M(Re())),Y&&(t.push("/admin/products"),W.success("Product created successfully"),M({type:te}))}),[M,W,B,Y,t]);return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"New Product"}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-12 col-md-2",children:Object(k.jsx)(ia,{})}),Object(k.jsx)("div",{className:"col-12 col-md-10",children:Object(k.jsx)(C.Fragment,{children:Object(k.jsx)("div",{className:"wrapper my-5",children:Object(k.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",r),c.set("price",l),c.set("description",u),c.set("category",O),c.set("stock",v),c.set("seller",E),R.forEach((function(e){c.append("images",e)})),M((t=c,function(){var e=Object(A.a)(Object(D.a)().mark((function e(c){var a,r,s;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Z}),a={headers:{"Content-Type":"application/json"}},e.next=5,H.a.post("/api/v1/admin/product/new",t,a);case 5:r=e.sent,s=r.data,c({type:ee,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:ce,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(k.jsx)("h1",{className:"mb-4",children:"New Product"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(k.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(k.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:l,onChange:function(e){return o(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(k.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:u,onChange:function(e){return b(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(k.jsx)("select",{className:"form-control",id:"category_field",value:O,onChange:function(e){return h(e.target.value)},children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map((function(e){return Object(k.jsx)("option",{value:e,children:e},e)}))})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(k.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:v,onChange:function(e){return g(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(k.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:E,onChange:function(e){return w(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Images"}),Object(k.jsxs)("div",{className:"custom-file",children:[Object(k.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);L([]),F([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(L((function(e){return[].concat(Object(da.a)(e),[t.result])})),F((function(e){return[].concat(Object(da.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(k.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),U.map((function(e){return Object(k.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)}))]}),Object(k.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!z,children:"CREATE"})]})})})})]})]})},ba=function(e){var t=e.match,c=Object(C.useState)(""),a=Object(T.a)(c,2),r=a[0],s=a[1],n=Object(q.d)(),i=Object(G.b)(),l=Object(G.c)((function(e){return e.orderDetails})),o=l.loading,d=l.order,j=void 0===d?{}:d,u=j.shippingInfo,b=j.orderItems,m=j.paymentInfo,p=j.user,O=j.totalPrice,h=j.orderStatus,x=Object(G.c)((function(e){return e.order})),f=x.error,v=x.isUpdated,g=t.params.id;Object(C.useEffect)((function(){i(qc(g)),f&&(n.error(f),i(zc())),v&&(n.success("Order updated successfully"),i({type:Ac}))}),[i,n,f,v,g]);var y=function(e){var t=new FormData;t.set("status",r),i(function(e,t){return function(){var c=Object(A.a)(Object(D.a)().mark((function c(a){var r,s,n;return Object(D.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:Fc}),r={headers:{"Content-Type":"application/json"}},c.next=5,H.a.put("/api/v1/admin/order/".concat(e),t,r);case 5:s=c.sent,n=s.data,a({type:Dc,payload:n.success}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a({type:Tc,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(e,t))},N=u&&"".concat(u.address,", ").concat(u.city,", ").concat(u.postalCode,", ").concat(u.country),E=!(!m||"succeeded"!==m.status);return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Process Order # ".concat(j&&j._id)}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-12 col-md-2",children:Object(k.jsx)(ia,{})}),Object(k.jsx)("div",{className:"col-12 col-md-10",children:Object(k.jsx)(C.Fragment,{children:o?Object(k.jsx)(W,{}):Object(k.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object(k.jsxs)("div",{className:"col-12 col-lg-7 order-details",children:[Object(k.jsxs)("h2",{className:"my-5",children:["Order # ",j._id]}),Object(k.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Name:"})," ",p&&p.name]}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Phone:"})," ",u&&u.phoneNo]}),Object(k.jsxs)("p",{className:"mb-4",children:[Object(k.jsx)("b",{children:"Address:"}),N]}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Amount:"})," \u09f3",O]}),Object(k.jsx)("hr",{}),Object(k.jsx)("h4",{className:"my-4",children:"Payment"}),Object(k.jsx)("p",{className:E?"greenColor":"redColor",children:Object(k.jsx)("b",{children:E?"PAID":"NOT PAID"})}),Object(k.jsx)("h4",{className:"my-4",children:"Stripe ID"}),Object(k.jsx)("p",{children:Object(k.jsx)("b",{children:m&&m.id})}),Object(k.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(k.jsx)("p",{className:j.orderStatus&&String(j.orderStatus).includes("Delivered")?"greenColor":"redColor",children:Object(k.jsx)("b",{children:h})}),Object(k.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(k.jsx)("hr",{}),Object(k.jsx)("div",{className:"cart-item my-1",children:b&&b.map((function(e){return Object(k.jsxs)("div",{className:"row my-5",children:[Object(k.jsx)("div",{className:"col-4 col-lg-2",children:Object(k.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(k.jsx)("div",{className:"col-5 col-lg-5",children:Object(k.jsx)(I.b,{to:"/products/".concat(e.product),children:e.name})}),Object(k.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(k.jsxs)("p",{children:["\u09f3",e.price]})}),Object(k.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(k.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)}))}),Object(k.jsx)("hr",{})]}),Object(k.jsxs)("div",{className:"col-12 col-lg-3 mt-5",children:[Object(k.jsx)("h4",{className:"my-4",children:"Status"}),Object(k.jsx)("div",{className:"form-group",children:Object(k.jsxs)("select",{className:"form-control",name:"status",value:r,onChange:function(e){return s(e.target.value)},children:[Object(k.jsx)("option",{value:"Processing",children:"Processing"}),Object(k.jsx)("option",{value:"Shipped",children:"Shipped"}),Object(k.jsx)("option",{value:"Delivered",children:"Delivered"})]})}),Object(k.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){return y(j._id)},children:"Update Status"})]})]})})})]})]})},ma=function(e){var t=e.history,c=Object(q.d)(),a=Object(G.b)(),r=Object(G.c)((function(e){return e.allOrders})),s=r.loading,n=r.error,i=r.orders,l=Object(G.c)((function(e){return e.order})).isDeleted;Object(C.useEffect)((function(){a(Gc()),n&&(c.error(n),a(zc())),l&&(c.success("Order deleted successfully"),t.push("/admin/orders"),a({type:kc}))}),[a,c,n,l,t]);var o=function(e){a(function(e){return function(){var t=Object(A.a)(Object(D.a)().mark((function t(c){var a,r;return Object(D.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Ic}),t.next=4,H.a.delete("/api/v1/admin/order/".concat(e));case 4:a=t.sent,r=a.data,c({type:Pc,payload:r.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Uc,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"All Orders"}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-12 col-md-2",children:Object(k.jsx)(ia,{})}),Object(k.jsx)("div",{className:"col-12 col-md-10",children:Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)("h1",{className:"my-5",children:"All Orders"}),s?Object(k.jsx)(W,{}):Object(k.jsx)(Kc.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"No of Items",field:"numofItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return i.forEach((function(t){e.rows.push({id:t._id,numofItems:t.orderItems.length,amount:"\u09f3".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(k.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(k.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(I.b,{to:"/admin/order/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object(k.jsx)("i",{className:"fa fa-eye"})}),Object(k.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return o(t._id)},children:Object(k.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},pa=function(e){var t=e.history,c=Object(q.d)(),a=Object(G.b)(),r=Object(G.c)((function(e){return e.allUsers})),s=r.loading,n=r.error,i=r.users,l=Object(G.c)((function(e){return e.user})).isDeleted;Object(C.useEffect)((function(){a(uc()),n&&(c.error(n),a(bc())),l&&(c.success("User deleted successfully"),t.push("/admin/users"),a({type:nc}))}),[a,c,n,l,t]);var o=function(e){a(function(e){return function(){var t=Object(A.a)(Object(D.a)().mark((function t(c){var a,r;return Object(D.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:rc}),t.next=4,H.a.delete("/api/v1/admin/user/".concat(e));case 4:a=t.sent,r=a.data,c({type:sc,payload:r.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:ic,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"All Users"}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-12 col-md-2",children:Object(k.jsx)(ia,{})}),Object(k.jsx)("div",{className:"col-12 col-md-10",children:Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)("h1",{className:"my-5",children:"All Users"}),s?Object(k.jsx)(W,{}):Object(k.jsx)(Kc.c,{data:function(){var e={columns:[{label:"User ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Email",field:"email",sort:"asc"},{label:"Role",field:"role",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return i.forEach((function(t){e.rows.push({id:t._id,name:t.name,email:t.email,role:t.role,actions:Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(I.b,{to:"/admin/user/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object(k.jsx)("i",{className:"fa fa-pencil"})}),Object(k.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return o(t._id)},children:Object(k.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},Oa=function(){var e=Object(C.useState)(""),t=Object(T.a)(e,2),c=t[0],a=t[1],r=Object(q.d)(),s=Object(G.b)(),n=Object(G.c)((function(e){return e.productReviews})),i=n.error,l=n.reviews,o=Object(G.c)((function(e){return e.review})),d=o.isDeleted,j=o.error;Object(C.useEffect)((function(){i&&(r.error(i),s(Re())),j&&(r.error(j),s(Re())),""!==c&&s(Ce(c)),d&&(r.success("Review deleted successfully"),s({type:Ne}))}),[s,r,i,c,d,j]);var u=function(e){s(function(e,t){return function(){var c=Object(A.a)(Object(D.a)().mark((function c(a){var r,s;return Object(D.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:ge}),c.next=4,H.a.delete("/api/v1/reviews?id=".concat(e,"&productId=").concat(t));case 4:r=c.sent,s=r.data,a({type:ye,payload:s.success}),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0.response),a({type:Ee,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(e,c))};return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Product Reviews"}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-12 col-md-2",children:Object(k.jsx)(ia,{})}),Object(k.jsx)("div",{className:"col-12 col-md-10",children:Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)("div",{className:"row justify-content-center mt-5",children:Object(k.jsx)("div",{className:"col-5",children:Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(Ce(c))},children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"productId_field",children:"Enter Product ID"}),Object(k.jsx)("input",{type:"text",id:"productId_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(k.jsx)("button",{id:"search_button",type:"submit",className:"btn btn-primary btn-block py-2",children:"SEARCH"})]})})}),l&&l.length>0?Object(k.jsx)(Kc.c,{data:function(){var e={columns:[{label:"Review ID",field:"id",sort:"asc"},{label:"Rating",field:"rating",sort:"asc"},{label:"Comment",field:"comment",sort:"asc"},{label:"User",field:"user",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return l.forEach((function(t){e.rows.push({id:t._id,rating:t.rating,comment:t.comment,user:t.name,actions:Object(k.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return u(t._id)},children:Object(k.jsx)("i",{className:"fa fa-trash"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0}):Object(k.jsx)("p",{className:"mt-5 text-center",children:"No Reviews."})]})})]})]})},ha=function(e){var t=e.history,c=e.match,a=Object(C.useState)(""),r=Object(T.a)(a,2),s=r[0],n=r[1],i=Object(C.useState)(""),l=Object(T.a)(i,2),o=l[0],d=l[1],j=Object(C.useState)(""),u=Object(T.a)(j,2),b=u[0],m=u[1],p=Object(q.d)(),O=Object(G.b)(),h=Object(G.c)((function(e){return e.user})),x=h.error,f=h.isUpdated,v=Object(G.c)((function(e){return e.userDetails})).user,g=c.params.id;Object(C.useEffect)((function(){var e;console.log(v&&v._id!==g),v&&v._id!==g?O((e=g,function(){var t=Object(A.a)(Object(D.a)().mark((function t(c){var a,r;return Object(D.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Kt}),t.next=4,H.a.get("/api/v1/admin/user/".concat(e));case 4:a=t.sent,r=a.data,c({type:Xt,payload:r.user}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Zt,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())):(n(v.name),d(v.email),m(v.role)),x&&(p.error(x),O(bc())),f&&(p.success("User updated successfully"),t.push("/admin/users"),O({type:cc}))}),[O,p,x,t,f,g,v]);return Object(k.jsxs)(C.Fragment,{children:[Object(k.jsx)(Q,{title:"Update User"}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-12 col-md-2",children:Object(k.jsx)(ia,{})}),Object(k.jsx)("div",{className:"col-12 col-md-10",children:Object(k.jsx)("div",{className:"row wrapper",children:Object(k.jsx)("div",{className:"col-10 col-lg-5",children:Object(k.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c,a=new FormData;a.set("name",s),a.set("email",o),a.set("role",b),O((t=v._id,c=a,function(){var e=Object(A.a)(Object(D.a)().mark((function e(a){var r,s,n;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:ec}),r={headers:{"Content-Type":"application/json"}},e.next=5,H.a.put("/api/v1/admin/user/".concat(t),c,r);case 5:s=e.sent,n=s.data,a({type:tc,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:ac,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(k.jsx)("h1",{className:"mt-2 mb-5",children:"Update User"}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(k.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(k.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"role_field",children:"Role"}),Object(k.jsxs)("select",{id:"role_field",className:"form-control",name:"role",value:b,onChange:function(e){return m(e.target.value)},children:[Object(k.jsx)("option",{value:"user",children:"user"}),Object(k.jsx)("option",{value:"admin",children:"admin"})]})]}),Object(k.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",children:"Update"})]})})})})]})]})},xa=c(48),fa=c(114),va=c(113),ga=Object(xa.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:case B:return{loading:!0,products:[]};case K:return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,resPerPage:t.payload.resPerPage,filteredProductsCount:t.payload.filteredProductsCount};case Y:return{loading:!1,products:t.payload};case X:case J:return{loading:!1,error:t.payload};case we:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case ue:return{loading:!1,product:t.payload};case be:return Object(_.a)(Object(_.a)({},e),{},{error:t.payload});case we:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case ee:return{loading:!1,success:t.payload.success,product:t.payload.product};case ce:return Object(_.a)(Object(_.a)({},e),{},{error:t.payload});case te:return Object(_.a)(Object(_.a)({},e),{},{success:!1});case we:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:case ie:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case re:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,isDeleted:t.payload});case le:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,isUpdated:t.payload});case ne:case de:return Object(_.a)(Object(_.a)({},e),{},{error:t.payload});case se:return Object(_.a)(Object(_.a)({},e),{},{isDeleted:!1});case oe:return Object(_.a)(Object(_.a)({},e),{},{isUpdated:!1});case we:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},productReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{review:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case fe:return{loading:!1,reviews:t.payload};case ve:return Object(_.a)(Object(_.a)({},e),{},{error:t.payload});case we:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case ye:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,isDeleted:t.payload});case Ee:return Object(_.a)(Object(_.a)({},e),{},{error:t.payload});case Ne:return Object(_.a)(Object(_.a)({},e),{},{isDeleted:!1});case we:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wt:case Ct:case Dt:return{loading:!0,isAuthenticated:!1};case St:case Rt:case At:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,isAuthenticated:!0,user:t.payload});case lc:return{loading:!1,isAuthenticated:!1,user:null};case Tt:return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case oc:return Object(_.a)(Object(_.a)({},e),{},{error:t.payload});case _t:case Ft:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,isAuthenticated:!1,user:null,error:t.payload});case dc:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case It:case Lt:case ec:case rc:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case Pt:case Wt:case tc:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,isUpdated:t.payload});case sc:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,isDeleted:t.payload});case kt:case Mt:case cc:return Object(_.a)(Object(_.a)({},e),{},{isUpdated:!1});case nc:return Object(_.a)(Object(_.a)({},e),{},{isDeleted:!1});case Ut:case Qt:case ac:case ic:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,error:t.payload});case dc:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},allUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yt:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case Jt:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,users:t.payload});case $t:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,error:t.payload});case dc:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kt:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case Xt:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,user:t.payload});case Zt:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,error:t.payload});case dc:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt:case zt:return Object(_.a)(Object(_.a)({},e),{},{loading:!0,error:null});case qt:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,message:t.payload});case Ht:return Object(_.a)(Object(_.a)({},e),{},{success:t.payload});case Gt:case Bt:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,error:t.payload});case dc:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:var c=t.payload,a=e.cartItems.find((function(e){return e.product===c.product}));return a?Object(_.a)(Object(_.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===a.product?c:e}))}):Object(_.a)(Object(_.a)({},e),{},{cartItems:[].concat(Object(da.a)(e.cartItems),[c])});case De:return Object(_.a)(Object(_.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case Ae:return Object(_.a)(Object(_.a)({},e),{},{cartItems:[]});case Te:return Object(_.a)(Object(_.a)({},e),{},{shippingInfo:t.payload});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gc:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case yc:return{loading:!1,order:t.payload};case Nc:return{loading:!1,error:t.payload};case Qc:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ec:return{loading:!0};case wc:return{loading:!1,orders:t.payload};case Sc:return{loading:!1,error:t.payload};case Qc:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _c:return{loading:!0};case Cc:return{loading:!1,orders:t.payload.orders,totalAmount:t.payload.totalAmount};case Rc:return{loading:!1,error:t.payload};case Qc:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lc:return{loading:!0};case Wc:return{loading:!1,order:t.payload};case Mc:return{loading:!1,error:t.payload};case Qc:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fc:case Ic:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case Dc:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,isUpdated:t.payload});case Pc:return Object(_.a)(Object(_.a)({},e),{},{loading:!1,isDeleted:t.payload});case Tc:case Uc:return Object(_.a)(Object(_.a)({},e),{},{error:t.payload});case Ac:return Object(_.a)(Object(_.a)({},e),{},{isUpdated:!1});case kc:return Object(_.a)(Object(_.a)({},e),{},{isDeleted:!1});case Qc:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case pe:return{loading:!1,success:t.payload};case he:return Object(_.a)(Object(_.a)({},e),{},{error:t.payload});case Oe:return Object(_.a)(Object(_.a)({},e),{},{success:!1});case we:return Object(_.a)(Object(_.a)({},e),{},{error:null});default:return e}}}),ya={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},Na=[fa.a],Ea=Object(xa.createStore)(ga,ya,Object(va.composeWithDevTools)(xa.applyMiddleware.apply(void 0,Na))),wa=c(27),Sa=["isAdmin","component"],_a=function(e){var t=e.isAdmin,c=e.component,a=Object(wa.a)(e,Sa),r=Object(G.c)((function(e){return e.auth})),s=r.isAuthenticated,n=r.loading,i=r.user;return Object(k.jsx)(C.Fragment,{children:!1===n&&Object(k.jsx)(P.b,Object(_.a)(Object(_.a)({},a),{},{render:function(e){return!1===s?Object(k.jsx)(P.a,{to:"/login"}):!0===t&&"admin"!==i.role?Object(k.jsx)(P.a,{to:"/"}):Object(k.jsx)(c,Object(_.a)({},e))}}))})},Ca=c(115);var Ra=function(){var e=Object(C.useState)(""),t=Object(T.a)(e,2),c=t[0],a=t[1],r=Object(G.c)((function(e){return e.auth})),s=r.user,n=r.isAuthenticated,i=r.loading;return Object(C.useEffect)((function(){function e(){return(e=Object(A.a)(Object(D.a)().mark((function e(){var t,c;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("/api/v1/stripeapi");case 2:t=e.sent,c=t.data,a(c.stripeApiKey);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ea.dispatch(jc()),function(){e.apply(this,arguments)}()}),[]),Object(k.jsx)(I.a,{children:Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(pc,{}),Object(k.jsxs)("div",{className:"container-fluid",children:[Object(k.jsx)(P.b,{path:"/",component:Et,exact:!0}),Object(k.jsx)(P.b,{path:"/product/:id",component:Pe,exact:!0}),Object(k.jsx)(P.b,{path:"/search/:keyword",component:Et}),Object(k.jsx)(P.b,{path:"/cart",component:fc,exact:!0}),Object(k.jsx)(_a,{path:"/confirm",component:Jc,exact:!0}),Object(k.jsx)(_a,{path:"/success",component:vc}),Object(k.jsx)(_a,{path:"/shipping",component:xc}),c&&Object(k.jsx)(Hc.Elements,{stripe:Object(Ca.a)(c),children:Object(k.jsx)(_a,{path:"/payment",component:Yc})}),Object(k.jsx)(P.b,{path:"/register",component:ea}),Object(k.jsx)(P.b,{path:"/login",component:ca}),Object(k.jsx)(P.b,{path:"/password/reset/:token",component:sa,exact:!0}),Object(k.jsx)(P.b,{path:"/password/forgot",component:ra,exact:!0}),Object(k.jsx)(_a,{path:"/me/update",component:na,exact:!0}),Object(k.jsx)(_a,{path:"/password/update",component:aa,exact:!0}),Object(k.jsx)(_a,{path:"/me",component:ta,exact:!0}),Object(k.jsx)(_a,{path:"/order/:id",component:$c,exact:!0}),Object(k.jsx)(_a,{path:"/orders/me",component:Xc,exact:!0})]}),Object(k.jsx)(_a,{path:"/admin/product",isAdmin:!0,component:ua,exact:!0}),Object(k.jsx)(_a,{path:"/dashboard",isAdmin:!0,component:oa,exact:!0}),Object(k.jsx)(_a,{path:"/admin/products",isAdmin:!0,component:la,exact:!0}),Object(k.jsx)(_a,{path:"/admin/order/:id",isAdmin:!0,component:ba,exact:!0}),Object(k.jsx)(_a,{path:"/admin/product/:id",isAdmin:!0,component:ja,exact:!0}),Object(k.jsx)(_a,{path:"/admin/orders",isAdmin:!0,component:ma,exact:!0}),Object(k.jsx)(_a,{path:"/admin/users",isAdmin:!0,component:pa,exact:!0}),Object(k.jsx)(_a,{path:"/admin/reviews",isAdmin:!0,component:Oa,exact:!0}),Object(k.jsx)(_a,{path:"/admin/user/:id",isAdmin:!0,component:ha,exact:!0}),!i&&(!n||"admin"!==s.role)&&Object(k.jsx)(U,{})]})})},Fa=c(116),Da={timeout:5e3,position:q.b.BOTTOM_CENTER,transition:q.c.SCALE};F.a.render(Object(k.jsx)(G.a,{store:Ea,children:Object(k.jsx)(q.a,Object(_.a)(Object(_.a)({template:Fa.a},Da),{},{children:Object(k.jsx)(Ra,{})}))}),document.getElementById("root"))}},[[189,1,2]]]);
//# sourceMappingURL=main.39ca2991.chunk.js.map